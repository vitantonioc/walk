"use strict";(self.webpackChunkangular_pwa=self.webpackChunkangular_pwa||[]).push([[155],{4155:(M,h,s)=>{s.r(h),s.d(h,{WalkModule:()=>F});var l=s(6895),g=s(433),c=s(3173),m=s(5963),p=s(4004),d=s(5698),v=s(8746),f=s(3099),r=s(6841),t=s(4650),C=s(2449);let w=(()=>{class e{constructor(){this.textLabel="",this.mode="",this.score=0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["score"]],inputs:{textLabel:"textLabel",mode:"mode",score:"score"},decls:3,vars:2,consts:[[1,"score_container"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"span"),t._uU(2),t.qZA()()),2&n&&(t.xp6(2),t.AsE("",o.textLabel,": ",o.score,""))},styles:[".score_container[_ngcontent-%COMP%]{margin-top:30px;text-align:center;animation:effect 2s linear infinite}@keyframes effect{0%{background:linear-gradient(#008000,#000100);-webkit-background-clip:text}to{background:linear-gradient(#3CE7D7,#f8f9fd);-webkit-background-clip:text}}"]}),e})();function b(e,i){1&e&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",2),t._UZ(2,"path",3),t.qZA()())}function T(e,i){1&e&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",4),t._UZ(2,"path",3),t.qZA()())}let Z=(()=>{class e{constructor(){this.bulbState="red"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["walk-bulb"]],inputs:{bulbState:"bulbState"},decls:4,vars:2,consts:[[1,"bulb_container"],[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","120px","viewBox","0 -960 960 960","width","120px","fill","#75FB4C"],["d","M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Zm0 280q25 0 42.5-17.5T540-260H420q0 25 17.5 42.5T480-200ZM360-300h240v-60H360v60Zm1-100h238q37-27 59-68.5t22-91.5q0-83-58.5-141.5T480-760q-83 0-141.5 58.5T280-560q0 50 22 91.5t59 68.5Zm22-60q-20-20-31.5-45.5T340-560q0-58 41-99t99-41q58 0 99 41t41 99q0 29-11.5 54.5T577-460H383Z"],["xmlns","http://www.w3.org/2000/svg","height","120px","viewBox","0 -960 960 960","width","120px","fill","#EA3323"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div"),t.YNc(2,b,3,0,"span",1),t.YNc(3,T,3,0,"span",1),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngIf","green"===o.bulbState),t.xp6(1),t.Q6J("ngIf","red"===o.bulbState))},dependencies:[l.O5],styles:[".bulb_container[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.green[_ngcontent-%COMP%]{color:green;font-size:6em}.red[_ngcontent-%COMP%]{color:red;font-size:6em}"]}),e})();function q(e,i){1&e&&(t.TgZ(0,"div"),t.O4$(),t.TgZ(1,"svg",3),t._UZ(2,"path",4),t.qZA()())}function k(e,i){1&e&&(t.O4$(),t.TgZ(0,"svg",5),t._UZ(1,"path",4),t.qZA())}let S=(()=>{class e{constructor(){this.modeButton="left",this.onEvent=new t.vpe}get textButton(){return this.modeButton.toUpperCase()}clickBtn(n){this.onEvent.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["walk-button"]],inputs:{modeButton:"modeButton"},outputs:{onEvent:"onEvent"},decls:5,vars:2,consts:[["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[4,"ngIf","ngIfElse"],["right",""],["xmlns","http://www.w3.org/2000/svg","height","68px","viewBox","0 -960 960 960","width","68px","fill","#FFFFFF",2,"transform","rotateY(180deg)"],["d","M219.82-650q-12.82 0-21.32-8.68-8.5-8.67-8.5-21.5 0-12.82 8.68-21.32 8.67-8.5 21.5-8.5 12.82 0 21.32 8.68 8.5 8.67 8.5 21.5 0 12.82-8.68 21.32-8.67 8.5-21.5 8.5ZM400-80q-66 0-113-47t-47-113v-240q0-100 70-170t170-70h73q69 0 118 46.5T720-559q0 46-24.5 84.5T629-416q-32 15-50.5 44.5T560-307v67q0 67-46.5 113.5T400-80Zm-80.18-640q-12.82 0-21.32-8.63-8.5-8.62-8.5-21.37v-40q0-12.75 8.68-21.38 8.67-8.62 21.5-8.62 12.82 0 21.32 8.62 8.5 8.63 8.5 21.38v40q0 12.75-8.68 21.37-8.67 8.63-21.5 8.63ZM400-140q42 0 71-29t29-71v-67q0-52.23 27.56-96.36Q555.11-447.49 603-470q26-13 41.5-37.22T660-560q0-42-31.5-71T553-660h-73q-75 0-127.5 52.5T300-480v240q0 42 29 71t71 29Zm39.82-620q-12.82 0-21.32-8.63-8.5-8.62-8.5-21.37v-40q0-12.75 8.68-21.38 8.67-8.62 21.5-8.62 12.82 0 21.32 8.62 8.5 8.63 8.5 21.38v40q0 12.75-8.68 21.37-8.67 8.63-21.5 8.63Zm120 0q-12.82 0-21.32-8.63-8.5-8.62-8.5-21.37v-60q0-12.75 8.68-21.38 8.67-8.62 21.5-8.62 12.82 0 21.32 8.62 8.5 8.63 8.5 21.38v60q0 12.75-8.68 21.37-8.67 8.63-21.5 8.63Zm140.06 40q-20.88 0-35.38-14.58Q650-749.17 650-770v-60q0-20.83 14.62-35.42Q679.24-880 700.12-880q20.88 0 35.38 14.58Q750-850.83 750-830v60q0 20.83-14.62 35.42Q720.76-720 699.88-720ZM400-480Z"],["xmlns","http://www.w3.org/2000/svg","height","68px","viewBox","0 -960 960 960","width","&8px","fill","#FFFFFF"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div")(1,"button",0),t.NdJ("click",function(){return o.clickBtn(o.modeButton)}),t.YNc(2,q,3,0,"div",1),t.YNc(3,k,2,0,"ng-template",null,2,t.W1O),t.qZA()()),2&n){const a=t.MAs(4);t.xp6(2),t.Q6J("ngIf","LEFT"!==o.textButton)("ngIfElse",a)}},dependencies:[l.O5],encapsulation:2}),e})(),x=(()=>{class e{constructor(){this.userName="",this.onLogout=new t.vpe}logout(){this.onLogout.emit(!0)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["walk-header"]],inputs:{userName:"userName"},outputs:{onLogout:"onLogout"},decls:9,vars:1,consts:[[1,"header_container"],[1,"header_container___user_name"],[1,"title_name"],["xmlns","http://www.w3.org/2000/svg","height","48px","viewBox","0 -960 960 960","width","48px","fill","#FFFFFF",3,"click"],["d","m358-316 122-122 122 122 42-42-122-122 122-122-42-42-122 122-122-122-42 42 122 122-122 122 42 42ZM140-160q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h680q24 0 42 18t18 42v520q0 24-18 42t-42 18H140Zm0-60h680v-520H140v520Zm0 0v-520 520Z"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"span",2),t._uU(4,"User Name : "),t.qZA(),t._uU(5),t.qZA()(),t.TgZ(6,"div"),t.O4$(),t.TgZ(7,"svg",3),t.NdJ("click",function(){return o.logout()}),t._UZ(8,"path",4),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",o.userName,""))},styles:[".header_container[_ngcontent-%COMP%]{background-color:#0379dd;padding:12px;text-align:center;display:flex;justify-content:space-between}.header_container___user_name[_ngcontent-%COMP%]{color:#fff}.title_name[_ngcontent-%COMP%]{font-size:16px}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;width:50%}"]}),e})();const _=[{path:"",component:(()=>{class e{constructor(n,o){this.walkServices=n,this.router=o,this.userName="",this.highScore=0,this.score=0,this.bulbState=r.C.RED,this.newStep=r.C.LEFT,this.timeCountDown=100,this.initialTimeCountDown=!0,this.userName=this.walkServices.userName,this.highScore=this.walkServices.highScore,this.score=this.walkServices.score}ngOnDestroy(){this.timerSub.unsubscribe()}logout(){this.walkServices.logout().then(()=>{this.router.navigateByUrl("")})}ngOnInit(){this.startWalk(),this.startTimer()}sendEvent(n){this.bulbState===r.C.GREEN&&this.getSendEvent(n)}getSendEvent(n){this.newStep===n?this.score++:this.score>0&&this.score--,this.highScore<this.score&&(this.highScore=this.score),this.bulbState===r.C.GREEN&&this.checkGreenLight(),this.newStep=this.newStep===r.C.LEFT?r.C.RIGHT:r.C.LEFT,this.walkServices.saveScores({highscore:this.highScore,score:this.score}),this.startTimer()}startTimer(){!1===this.initialTimeCountDown?this.timeCountDown>20&&(this.timeCountDown=this.timeCountDown-10):this.initialTimeCountDown=!1,this.timerSub&&this.timerSub.unsubscribe(),this.timer$=(0,m.H)(0,100).pipe((0,p.U)(n=>{this.timeCountDown-n==0&&this.startWalk();let o=0;return o=void 0!==this.time?this.timeCountDown-n-this.time/10:this.timeCountDown-n,o}),(0,d.q)(this.timeCountDown+1),(0,v.x)(()=>{}),(0,f.B)()),this.timerSub=this.timer$.subscribe()}startWalk(){this.bulbState=r.C.RED,(0,m.H)(3e3).pipe((0,p.U)(()=>this.bulbState=r.C.GREEN)).subscribe(()=>{this.checkGreenLight()})}checkGreenLight(){const n=Math.max(1e4-100*this.score,2e3)+this.getRandom(-1500,1500);this.time=(n/100).toFixed(0)}getRandom(n,o){return Math.random()*(o-n)+n}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.h),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-walk"]],decls:9,vars:4,consts:[[1,"container_walk"],[3,"userName","onLogout"],[1,"high_score"],["textLabel","High Score","mode","highScore",3,"score"],[3,"bulbState"],["textLabel","Score","mode","currentScore",3,"score"],[1,"container_btn"],["modeButton","left",3,"onEvent"],["modeButton","right",3,"onEvent"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"walk-header",1),t.NdJ("onLogout",function(){return o.logout()}),t.qZA(),t.TgZ(2,"div",2),t._UZ(3,"score",3),t.qZA(),t._UZ(4,"walk-bulb",4)(5,"score",5),t.TgZ(6,"div",6)(7,"walk-button",7),t.NdJ("onEvent",function(u){return o.sendEvent(u)}),t.qZA(),t.TgZ(8,"walk-button",8),t.NdJ("onEvent",function(u){return o.sendEvent(u)}),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("userName",o.userName),t.xp6(2),t.Q6J("score",o.highScore),t.xp6(1),t.Q6J("bulbState",o.bulbState),t.xp6(1),t.Q6J("score",o.score))},dependencies:[w,Z,S,x],styles:[".container_walk[_ngcontent-%COMP%]{padding-left:0;padding-right:0;font-size:25px;height:100vh}.container_btn[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.container_btn[_ngcontent-%COMP%]{margin-top:40px;display:flex;justify-content:space-around}.high_score[_ngcontent-%COMP%]{background-color:#00a4ff;margin-top:-30px}"]}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(_),c.Bz]}),e})();var E=s(4466);let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[B,l.ez,E.m,g.UX]}),e})()}}]);